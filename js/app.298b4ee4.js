(function(e){function t(t){for(var r,a,u=t[0],o=t[1],s=t[2],l=0,d=[];l<u.length;l++)a=u[l],c[a]&&d.push(c[a][0]),c[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==c[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},c={app:0},i=[];function u(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-042c":"043cf662","chunk-0fc0":"e33a1f8b"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n={"chunk-042c":1,"chunk-0fc0":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-042c":"11abe13e","chunk-0fc0":"18275b12"}[e]+".css",a=o.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===r||s===a))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],s=u.getAttribute("data-href");if(s===r||s===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.request=r,n(c)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){a[e]=0}));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=c[e]=[t,n]});t.push(r[2]=i);var s,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,o.nc&&d.setAttribute("nonce",o.nc),d.src=u(e),s=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}c[e]=void 0}};var p=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,l.appendChild(d)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/kanban/",o.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0439":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("ffc1"),n("f751"),n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(e,t){var n=t.type,a=t.key,c=t.value;r["default"].set(e[n],a,Object.assign({},e[n][a],c))},c=function(e,t){r["default"].delete(e.projects,t)},i=function(e,t){r["default"].delete(e.taskLists,t)},u=function(e,t){r["default"].delete(e.tasks,t)};t["default"]={setState:function(e,t){Object.entries(function(t,n){return r["default"].set(e,t,n)})},updateProject:function(e,t){a(e,{type:"projects",key:t.id,value:t})},updateTaskList:function(e,t){a(e,{type:"taskLists",key:t.id,value:t})},updateTask:function(e,t){a(e,{type:"tasks",key:t.id,value:t})},deleteProject:c,deleteTaskList:i,deleteTask:u}},"24ab":function(e,t,n){},"25c3":function(e,t,n){"use strict";var r=n("50e2"),a=n.n(r);a.a},2856:function(e,t,n){},"50e2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.init?n("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"app"}):n("router-view",{staticClass:"app"})},c=[],i=n("c93e"),u=n("2f62"),o={data:function(){return{init:!1}},methods:Object(i["a"])({},Object(u["b"])(["initApp"])),created:function(){var e=this;return this.init=!0,this.initApp().finally(function(){return e.init=!1})},errorCaptured:function(e){console.error(e),this.$message.error("Something goes wrong")}},s=o,l=(n("5c0b"),n("2877")),d=Object(l["a"])(s,a,c,!1,null,null,null);d.options.__file="App.vue";var p=d.exports,f=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"app"},[n("el-header",{staticClass:"app-header"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("i",{staticClass:"el-icon-menu"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){e.$router.push("/")}}},[e._v("\n          Projects\n        ")]),e._l(e.projects,function(t,r){return n("el-dropdown-item",{key:t.id,attrs:{divided:0===r}},[n("router-link",{staticClass:"text-truncate project-router-link",attrs:{tag:"div",to:{name:"project",params:{projectId:t.id}}}},[e._v("\n            "+e._s(t.name)+"\n            "),n("span",{staticClass:"el-icon-arrow-right arrow-icon"})])],1)})],2)],1),n("span",{staticClass:"current-project"},[e.currentProject?n("edit-input",{attrs:{value:e.currentProject.name},on:{change:e.updateProjectName}}):e._e(),[e._v("\n        "+e._s(e.$route.meta.title)+"\n      ")]],2)],1),n("el-main",{staticClass:"app-main",staticStyle:{padding:"10px"}},[n("router-view")],1)],1)},h=[],v=n("59a6"),g={components:{EditInput:v["a"]},computed:Object(i["a"])({},Object(u["c"])(["projects"]),{currentProject:function(){var e=this.$route.params.projectId;return this.$store.state.projects[e]}}),methods:{updateProjectName:function(e){if(this.currentProject)return this.$store.dispatch("updateProject",{id:this.currentProject.id,name:e})}}},k=g,b=(n("25c3"),Object(l["a"])(k,m,h,!1,null,"547d2c3c",null));b.options.__file="Home.vue";var j=b.exports;r["default"].use(f["a"]);var w=new f["a"]({routes:[{path:"/",component:j,children:[{path:"",name:"home",component:function(){return n.e("chunk-0fc0").then(n.bind(null,"029f"))},meta:{title:"Projects"}},{path:"/project/:projectId",name:"project",component:function(){return n.e("chunk-042c").then(n.bind(null,"07bd"))}}]}]});r["default"].use(u["a"]);var y=new u["a"].Store({state:{projects:{},taskLists:{},tasks:{}},mutations:n("0439").default,actions:n("63e0").default,getters:n("94d5").default}),x=y;var O=n("9169"),_=n("339e"),P=n.n(_);r["default"].directive("clickoutside",O["a"]),r["default"].directive("autofocus",{bind:function(e){var t=e.querySelector("input, textarea");setTimeout(function(){return t&&t.focus()},0)}});var T=new P.a.Converter({tasklists:!0,tables:!0});T.setFlavor("github"),r["default"].directive("marked",{bind:function(e,t){e.innerHTML=T.makeHtml(t.value)},update:function(e,t){e.innerHTML=T.makeHtml(t.value)}});var L=n("5c96"),C=n.n(L);n("24ab");r["default"].config.productionTip=!1,r["default"].use(C.a),window.vm=new r["default"]({router:w,store:x,render:function(e){return e(p)}}).$mount("#app")},"59a6":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.edit?n("el-input",{directives:[{name:"autofocus",rawName:"v-autofocus"}],staticStyle:{"z-index":"100"},on:{blur:e.onEnter},nativeOn:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onEnter(t):null}},model:{value:e.dValue,callback:function(t){e.dValue=t},expression:"dValue"}}):n("div",{staticClass:"edit-input",on:{click:function(t){e.edit=!0}}},[n("span",[e._v("\n    "+e._s(e.value)+"\n  ")]),e.showDelete?n("span",{staticClass:"el-icon-remove",on:{click:function(t){t.stopPropagation(),e.$emit("delete")}}}):e._e()])},a=[],c=(n("cadf"),n("551c"),n("097d"),{props:{value:String,showDelete:Boolean},data:function(){return{edit:!1,dValue:this.value}},watch:{value:function(e){this.dValue=e}},methods:{onEnter:function(){this.$emit("change",this.dValue),this.edit=!1}}}),i=c,u=(n("a02f"),n("2877")),o=Object(u["a"])(i,r,a,!1,null,"4ca861cc",null);o.options.__file="EditInput.vue";t["a"]=o.exports},"5c0b":function(e,t,n){"use strict";var r=n("2856"),a=n.n(r);a.a},"63e0":function(e,t,n){"use strict";n.r(t);n("ac6a");var r=n("a322"),a=(n("96cf"),n("3040")),c=n("c93e"),i=(n("cadf"),n("551c"),n("097d"),n("74ce")),u=new i["a"]("kanban"),o=u;function s(e){return e[0].toUpperCase()+e.substr(1)}function l(e,t){var n,i=s(e);return Object(c["a"])((n={},Object(r["a"])(n,"get".concat(i,"s"),function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=n.commit,t.abrupt("return",o["".concat(e,"s")].each(function(e){return r("update".concat(i),e)}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),Object(r["a"])(n,"get".concat(i),function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.commit,t.next=3,o["".concat(e,"s")].get(r);case 3:c=t.sent,c&&a("update".concat(i),c);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(r["a"])(n,"create".concat(i),function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.dispatch,n.commit,t.next=3,o["".concat(e,"s")].put(r);case 3:return c=t.sent,t.next=6,a("get".concat(s(e)),c);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(r["a"])(n,"delete".concat(i),function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.commit,a("delete".concat(s(e)),r),t.next=4,o["".concat(e,"s")].delete(r);case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(r["a"])(n,"update".concat(i),function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.dispatch,c=n.commit,c("update".concat(i),r),t.next=4,o["".concat(e,"s")].update(r.id,r);case 4:return t.next=6,a("get".concat(s(e)),r.id);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),n),t)}u.version(1).stores({projects:"++id,name",taskLists:"++id,name,projectId",tasks:"++id,content,taskListId,done"});t["default"]=Object(c["a"])({initApp:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,e.next=3,o.open();case 3:return e.next=5,n("getProjects");case 5:return e.next=7,n("getTaskLists");case 7:return e.next=9,n("getTasks");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},l("project"),l("taskList"),l("task"),{deleteProject:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,c=t.getters,r("deleteProject",n),e.next=4,o.projects.delete(n);case 4:return e.next=6,Promise.all(c.taskLists(n).map(function(e){return a("deleteTaskList",e.id)}));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),deleteTaskList:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.dispatch,c=t.getters,r("deleteTaskList",n),e.next=4,o.taskLists.delete(n);case 4:return e.next=6,Promise.all(c.tasks(n).map(function(e){return a("deleteTask",e.id)}));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()})},"876b":function(e,t,n){},"94d5":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("8615"),n("55dd");t["default"]={projects:function(e){return Object.values(e.projects).sort(function(e,t){return e.id-t.id})},taskLists:function(e){return function(t){return Object.values(e.taskLists).filter(function(e){return e.projectId===t})}},tasks:function(e){return function(t){return Object.values(e.tasks).filter(function(e){return e.taskListId===t})}}}},a02f:function(e,t,n){"use strict";var r=n("876b"),a=n.n(r);a.a}});
//# sourceMappingURL=app.298b4ee4.js.map