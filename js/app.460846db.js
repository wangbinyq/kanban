(function(t){function e(e){for(var r,a,s=e[0],i=e[1],u=e[2],l=0,f=[];l<s.length;l++)a=s[l],c[a]&&f.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);p&&p(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==c[s]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},c={app:0},o=[];function s(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-3104":"4be04063","chunk-5085":"2f209800"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-3104":1,"chunk-5085":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-3104":"b4dff518","chunk-5085":"30ceddff"}[t]+".css",a=i.p+r,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var s=c[o],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===r||u===a))return e()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){s=l[o],u=s.getAttribute("data-href");if(u===r||u===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||a,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.request=r,n(c)},f.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){a[t]=0}));var r=c[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise(function(e,n){r=c[t]=[e,n]});e.push(r[2]=o);var u,l=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=s(t),u=function(e){f.onerror=f.onload=null,clearTimeout(p);var n=c[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");o.type=r,o.request=a,n[1](o)}c[t]=void 0}};var p=setTimeout(function(){u({type:"timeout",target:f})},12e4);f.onerror=f.onload=u,l.appendChild(f)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/kanban/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0439":function(t,e,n){"use strict";n.r(e);var r=n("9393"),a=(n("ffc1"),n("ac6a"),n("f751"),n("cadf"),n("551c"),n("097d"),n("2b0e")),c=function(t,e){var n=e.type,r=e.key,c=e.value;a["default"].set(t[n],r,Object.assign({},t[n][r],c))},o=function(t,e){a["default"].delete(t.projects,e)},s=function(t,e){a["default"].delete(t.taskLists,e)},i=function(t,e){a["default"].delete(t.tasks,e)};e["default"]={setState:function(t,e){Object.entries(e).forEach(function(e){var n=Object(r["a"])(e,2),c=n[0],o=n[1];return a["default"].set(t,c,o)})},updateProject:function(t,e){c(t,{type:"projects",key:e.id,value:e})},updateTaskList:function(t,e){c(t,{type:"taskLists",key:e.id,value:e})},updateTask:function(t,e){c(t,{type:"tasks",key:e.id,value:e})},deleteProject:o,deleteTaskList:s,deleteTask:i}},"24ab":function(t,e,n){},2856:function(t,e,n){},4772:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.init?n("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"app"}):n("router-view",{staticClass:"app"})},c=[],o=n("c93e"),s=n("2f62"),i={data:function(){return{init:!1}},methods:Object(o["a"])({},Object(s["b"])(["initApp"])),created:function(){var t=this;return this.init=!0,this.initApp().finally(function(){return t.init=!1})},errorCaptured:function(t){console.error(t),this.$message.error("Something goes wrong")}},u=i,l=(n("5c0b"),n("2877")),f=Object(l["a"])(u,a,c,!1,null,null,null);f.options.__file="App.vue";var p=f.exports,d=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"app"},[n("el-header",{staticClass:"app-header"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("i",{staticClass:"el-icon-menu"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(e){t.$router.push("/")}}},[t._v("\n          Projects\n        ")]),t._l(t.projects,function(e,r){return n("el-dropdown-item",{key:e.id,attrs:{divided:0===r}},[n("router-link",{staticClass:"text-truncate project-router-link",attrs:{tag:"div",to:{name:"project",params:{projectId:e.id}}}},[t._v("\n            "+t._s(e.name)+"\n            "),n("span",{staticClass:"el-icon-arrow-right arrow-icon"})])],1)}),n("el-dropdown-item",{attrs:{divided:""}},[n("el-popover",{attrs:{"popper-class":"sync-menu-popover",trigger:"hover",placement:"right-start"},model:{value:t.bShowSyncMenu,callback:function(e){t.bShowSyncMenu=e},expression:"bShowSyncMenu"}},[n("div",{attrs:{slot:"reference"},on:{click:function(t){t.stopPropagation()}},slot:"reference"},[t._v("\n              Sync\n            ")]),n("div",{on:{click:function(e){e.stopPropagation(),t.bShowSyncMenu=!1}}},[n("el-dropdown-item",{attrs:{disabled:!t.syncInfo.syncKey||!t.syncInfo.syncId},nativeOn:{click:function(e){return t.onSync(e)}}},[t._v("\n                Sync Now\n              ")]),n("el-dropdown-item",{nativeOn:{click:function(e){t.bShowEditSyncSetting=!0}}},[t._v("\n                Sync Setting\n              ")]),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.onSyncExport(e)}}},[t._v("\n                Export\n              ")]),n("el-dropdown-item",{nativeOn:{click:function(e){t.$refs.syncImportFile.click()}}},[t._v("\n                Import\n              ")]),n("input",{ref:"syncImportFile",staticStyle:{display:"none"},attrs:{type:"file",accept:".json"},on:{change:t.onSyncImport}})],1)])],1)],2)],1),n("span",{staticClass:"current-project"},[t.currentProject?n("edit-input",{attrs:{value:t.currentProject.name},on:{change:t.updateProjectName}}):t._e(),[t._v("\n        "+t._s(t.$route.meta.title)+"\n      ")]],2),t.headerLoading?n("span",{staticClass:"el-icon-loading"}):t._e(),t.syncInfo.syncKey&&t.syncInfo.syncId?n("el-button",{staticStyle:{"margin-left":"auto"},attrs:{loading:t.headerLoading,type:"text",icon:"el-icon-refresh"},on:{click:t.onSync}}):t._e()],1),n("el-main",{staticClass:"app-main",staticStyle:{padding:"10px"}},[n("router-view")],1),n("el-dialog",{attrs:{visible:t.bShowEditSyncSetting,title:"Sync Settting",width:"400px"},on:{close:function(e){t.bShowEditSyncSetting=!1}}},[n("el-form",{attrs:{size:"small"}},[n("el-form-item",{attrs:{label:"gist key: "}},[n("el-input",{staticStyle:{width:"200px"},model:{value:t.syncInfoForm.syncKey,callback:function(e){t.$set(t.syncInfoForm,"syncKey",e)},expression:"syncInfoForm.syncKey"}}),n("el-button",{staticStyle:{"margin-left":"1em"},attrs:{size:"mini",type:"info",loading:t.testLoading,disabled:!t.syncInfoForm.syncKey||!t.syncInfoForm.syncId},on:{click:function(e){t.testSyncKey(t.syncInfoForm)}}},[t._v("test")])],1),n("el-form-item",{attrs:{label:"gist id:"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:t.syncInfoForm.syncId,callback:function(e){t.$set(t.syncInfoForm,"syncId",e)},expression:"syncInfoForm.syncId"}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small",type:"default"},on:{click:function(e){t.bShowEditSyncSetting=!1}}},[t._v("Cancel")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.updateSyncInfo(t.syncInfoForm),t.bShowEditSyncSetting=!1}}},[t._v("Confirm")])],1)],1)],1)},h=[],y=(n("96cf"),n("3040")),v=(n("f751"),n("59a6"));function g(t){var e=new FileReader;return new Promise(function(n,r){e.onload=function(t){n(t.target.result)},e.onerror=function(t){return r(t)},e.readAsText(t)})}var b={components:{EditInput:v["a"]},data:function(){return{bShowSyncMenu:!1,bShowEditSyncSetting:!1,syncInfoForm:{},testLoading:!1,headerLoading:!1}},computed:Object(o["a"])({},Object(s["c"])(["projects"]),Object(s["d"])(["syncInfo"]),{currentProject:function(){var t=this.$route.params.projectId;return this.$store.state.projects[t]}}),watch:{bShowEditSyncSetting:function(t){t&&(this.syncInfoForm=Object.assign({},this.syncInfo))},syncInfo:function(t){this.syncInfoForm=Object.assign({},t)}},methods:Object(o["a"])({},Object(s["b"])(["updateSyncInfo","syncExport","syncImport","sync"]),{updateProjectName:function(t){if(this.currentProject)return this.$store.dispatch("updateProject",{id:this.currentProject.id,name:t})},testSyncKey:function(t){var e=this;this.testLoading=!0,this.$store.dispatch("testSyncKey",t).then(function(){return e.$message.success("This key is valid")},function(t){return e.$message.error("This key is unvalid: "+t.message)}).finally(function(){return e.testLoading=!1})},onSync:function(){var t=Object(y["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.headerLoading=!0,t.abrupt("return",this.sync().finally(function(){return e.headerLoading=!1}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onSyncExport:function(){var t=Object(y["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.syncExport();case 2:e=t.sent,n=document.createElement("a"),r=JSON.stringify(e,null,2),a=new Blob([r],{type:"octet/stream"}),c=window.URL.createObjectURL(a),n.href=c,n.download="export.json",n.click(),window.URL.revokeObjectURL(c);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onSyncImport:function(t){var e=this,n=t.target.files[0];return n?(this.headerLoading=!0,g(n).then(function(t){return JSON.parse(t)}).then(function(t){return e.syncImport(t)}).finally(function(){return e.headerLoading=!1})):Promise.resolve()}})},w=b,k=(n("de65"),n("b5d4"),Object(l["a"])(w,m,h,!1,null,"1047fd36",null));k.options.__file="Home.vue";var j=k.exports;r["default"].use(d["a"]);var S=new d["a"]({routes:[{path:"/",component:j,children:[{path:"",name:"home",component:function(){return n.e("chunk-5085").then(n.bind(null,"029f"))},meta:{title:"Projects"}},{path:"/project/:projectId",name:"project",component:function(){return n.e("chunk-3104").then(n.bind(null,"07bd"))}}]}]});r["default"].use(s["a"]);var x=new s["a"].Store({state:{projects:{},taskLists:{},tasks:{},syncInfo:{syncKey:localStorage.getItem("syncKey")||"",syncId:localStorage.getItem("syncId")||""}},mutations:n("0439").default,actions:n("63e0").default,getters:n("94d5").default}),O=x;var I=n("9169"),L=n("339e"),_=n.n(L);r["default"].directive("clickoutside",I["a"]),r["default"].directive("autofocus",{bind:function(t){var e=t.querySelector("input, textarea");setTimeout(function(){return e&&e.focus()},0)}});var R=new _.a.Converter({tasklists:!0,tables:!0});R.setFlavor("github"),r["default"].directive("marked",{bind:function(t,e){t.innerHTML=R.makeHtml(e.value)},update:function(t,e){t.innerHTML=R.makeHtml(e.value)}});var P=n("5c96"),E=n.n(P);n("24ab");r["default"].config.productionTip=!1,r["default"].use(E.a),window.vm=new r["default"]({router:S,store:O,render:function(t){return t(p)}}).$mount("#app")},"59a6":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.edit?n("el-input",{directives:[{name:"autofocus",rawName:"v-autofocus"}],staticStyle:{"z-index":"100"},on:{blur:t.onEnter},nativeOn:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onEnter(e):null}},model:{value:t.dValue,callback:function(e){t.dValue=e},expression:"dValue"}}):n("div",{staticClass:"edit-input",on:{click:function(e){t.edit=!0}}},[n("span",[t._v("\n    "+t._s(t.value)+"\n  ")]),t.showDelete?n("span",{staticClass:"el-icon-remove",on:{click:function(e){e.stopPropagation(),t.$emit("delete")}}}):t._e()])},a=[],c=(n("cadf"),n("551c"),n("097d"),{props:{value:String,showDelete:Boolean},data:function(){return{edit:!1,dValue:this.value}},watch:{value:function(t){this.dValue=t}},methods:{onEnter:function(){this.$emit("change",this.dValue),this.edit=!1}}}),o=c,s=(n("a02f"),n("2877")),i=Object(s["a"])(o,r,a,!1,null,"4ca861cc",null);i.options.__file="EditInput.vue";e["a"]=i.exports},"5a55":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var r=n("2856"),a=n.n(r);a.a},"63e0":function(t,e,n){"use strict";n.r(e);n("55dd"),n("7f7f");var r=n("9393"),a=(n("ffc1"),n("ac6a"),n("a322")),c=(n("96cf"),n("3040")),o=n("c93e"),s=(n("cadf"),n("551c"),n("097d"),n("74ce")),i=new s["a"]("kanban"),u=i;i.version(1).stores({projects:"++id,name",taskLists:"++id,name,projectId",tasks:"++id,content,taskListId,done"});var l=n("bc3a"),f=n.n(l),p=f.a.create({baseURL:"https://api.github.com/"});function d(t){return t[0].toUpperCase()+t.substr(1)}function m(t){p.defaults.headers.common["Authorization"]="token ".concat(t)}function h(t,e){var n,r=d(t);return Object(o["a"])((n={},Object(a["a"])(n,"get".concat(r,"s"),function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=n.commit,e.abrupt("return",u["".concat(t,"s")].each(function(t){return a("update".concat(r),t)}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Object(a["a"])(n,"get".concat(r),function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(n,a){var c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return c=n.commit,e.next=3,u["".concat(t,"s")].get(a);case 3:o=e.sent,o&&c("update".concat(r),o);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(a["a"])(n,"create".concat(r),function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(n,r){var a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=n.dispatch,n.commit,e.next=3,u["".concat(t,"s")].put(r);case 3:return c=e.sent,e.next=6,a("get".concat(d(t)),c);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(a["a"])(n,"delete".concat(r),function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(n,r){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=n.commit,a("delete".concat(d(t)),r),e.next=4,u["".concat(t,"s")].delete(r);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(a["a"])(n,"update".concat(r),function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(n,a){var c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return c=n.dispatch,o=n.commit,o("update".concat(r),a),e.next=4,u["".concat(t,"s")].update(a.id,a);case 4:return e.next=6,c("get".concat(d(t)),a.id);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),n),e)}p.interceptors.response.use(function(t){return-1===(t.headers["x-oauth-scopes"]||"").indexOf("gist")?Promise.reject(new Error("Token need gist scope")):t.data},function(t){return Promise.reject(t.response.data||t)});e["default"]=Object(o["a"])({initApp:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,r=e.state,t.next=3,u.open();case 3:return t.next=5,n("getProjects");case 5:return t.next=7,n("getTaskLists");case 7:return t.next=9,n("getTasks");case 9:m(r.syncInfo.syncKey);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},h("project"),h("taskList"),h("task"),{deleteProject:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.dispatch,c=e.getters,r("deleteProject",n),t.next=4,u.projects.delete(n);case 4:return t.next=6,Promise.all(c.taskLists(n).map(function(t){return a("deleteTaskList",t.id)}));case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),deleteTaskList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.dispatch,c=e.getters,r("deleteTaskList",n),t.next=4,u.taskLists.delete(n);case 4:return t.next=6,Promise.all(c.tasks(n).map(function(t){return a("deleteTask",t.id)}));case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),updateSyncInfo:function(t,e){var n=t.commit,a=t.state,c=Object(o["a"])({},a.syncInfo,e);Object.entries(c).forEach(function(t){var e=Object(r["a"])(t,2),n=e[0],a=e[1];return localStorage.setItem(n,a)}),m(a.syncInfo.syncKey),n("setState",{syncInfo:c})},testSyncKey:function(t,e){var n=t.state,r=n.syncInfo.syncKey;m(e.syncKey);var a=p.get("/gists/".concat(e.syncId));return m(r),a},upload:function(t,e){var n=t.state,r={filename:"projects.json",content:JSON.stringify(e,null,4)},a={filename:"config.json",content:JSON.stringify({updateAt:Date.now()},null,4)};return p.post("/gists/".concat(n.syncInfo.syncId),{description:"kanban sync",files:{"projects.json":r,"config.json":a}})},download:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var n,r,a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,t.next=3,p.get("/gists/".concat(n.syncInfo.syncId));case 3:if(r=t.sent,a=r.files["projecst.json"],c=r.files["config.json"],c&&a){t.next=8;break}return t.abrupt("return",[[],{updateAt:0}]);case 8:return t.abrupt("return",[JSON.parse(a.content),JSON.parse(c.content)]);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sync:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var n,a,c,o,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,n("download");case 3:if(a=t.sent,c=Object(r["a"])(a,2),o=c[0],s=c[1],i=1*localStorage.getItem("syncUpdateAt")||0,!(s.updateAt<=i)){t.next=17;break}return t.next=11,n("syncExport");case 11:return o=t.sent,t.next=14,n("upload",o);case 14:localStorage.setItem("syncUpdateAt",Date.now()),t.next=22;break;case 17:return t.next=19,n("clearDB");case 19:return t.next=21,n("syncImport",o);case 21:localStorage.setItem("syncUpdateAt",s.updateAt);case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),clearDB:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.projects.clear();case 2:return t.next=4,u.taskLists.clear();case 4:return t.next=6,u.tasks.clear();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),syncExport:function(t){var e=t.getters;return e.projects.map(function(t){return Object(o["a"])({},t,{taskLists:e.taskLists(t.id).map(function(t){return Object(o["a"])({},t,{tasks:e.tasks(t.id)})})})})},syncImport:function(t,e){var n=t.dispatch;return Promise.all(e.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.projects.put({name:e.name});case 2:return n=t.sent,t.next=5,Promise.all(e.taskLists.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.taskLists.put({projectId:n,name:e.name,sort:e.sort});case 2:return r=t.sent,t.next=5,Promise.all(e.tasks.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.tasks.put({taskListId:r,content:e.content,sort:e.sort});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())).then(function(){return n("initApp")})}})},"876b":function(t,e,n){},"94d5":function(t,e,n){"use strict";n.r(e);n("ac6a"),n("8615"),n("55dd"),n("cadf"),n("551c"),n("097d");e["default"]={projects:function(t){return Object.values(t.projects).sort(function(t,e){return t.id-e.id})},taskLists:function(t){return function(e){return Object.values(t.taskLists).filter(function(t){return t.projectId===e})}},tasks:function(t){return function(e){return Object.values(t.tasks).filter(function(t){return t.taskListId===e})}}}},a02f:function(t,e,n){"use strict";var r=n("876b"),a=n.n(r);a.a},b5d4:function(t,e,n){"use strict";var r=n("5a55"),a=n.n(r);a.a},de65:function(t,e,n){"use strict";var r=n("4772"),a=n.n(r);a.a}});
//# sourceMappingURL=app.460846db.js.map